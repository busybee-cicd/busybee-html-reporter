<div class="card">
    <div class="test-header">
        {{#if test.pass}}
            <b>{{test.id}}</b>
        {{else}}
            <a data-toggle="collapse" href="#{{test.htmlID}}" role="button"">
                {{test.id}}
            </a>
        {{/if }}

        <div>
            <i class="fa {{#if test.pass}}fa-check-circle green{{else}}fa-exclamation-circle red{{/if}} fa-2"></i>
        </div>
    </div>
    <div id="{{test.htmlID}}" class="collapse test-content" role="tabpanel" data-parent="#testSetAccordian_{{testSetID}}">
        <div>
            <a data-toggle="collapse" href="#request{{test.htmlID}}" role="button">
                Request
            </a>
        </div>
        <div id="request{{test.htmlID}}" class="collapse" style="margin-bottom: 1em;">
            <div id="requestBtns-{{test.htmlID}}"
                 style="margin-bottom: 1em"
                 role="group">
                <button type="button" class="btn btn-sm btn-secondary active" onclick="showRequest('pretty', '{{test.htmlID}}')">pretty</button>
                <button type="button" class="btn btn-sm btn-secondary" onclick="showRequest('raw', '{{test.htmlID}}')">raw</button>
            </div>
            <div id="request-pretty-{{test.htmlID}}">
                {{jsonPretty test.request}}
            </div>
            <div id="request-raw-{{test.htmlID}}" style="display: none;">
                {{jsonRaw test.request}}
            </div>
        </div>

        <div>
            <a data-toggle="collapse" href="#response{{test.htmlID}}" role="button">
                Response
            </a>
        </div>
        <div id="response{{test.htmlID}}" class="collapse">
            {{#if test.assertionModifications}}
                <div><b>Assertion Modifications</b></div>
                {{jsonPretty test.assertionModifications}}
            {{/if}}
            <nav>
                <div class="nav nav-tabs" id="nav-tab-{{test.htmlID}}" role="tablist">
                    {{#if test.status}}
                        {{#unless test.status.pass}}
                            <a class="nav-item nav-link"
                               id="nav-status-tab-{{test.htmlID}}"
                               data-toggle="tab"
                               href="#nav-status-{{test.htmlID}}"
                               role="tab">Status</a>
                        {{/unless}}
                    {{/if}}

                    {{#if test.headers}}
                        {{#unless test.headers.pass}}
                            <a class="nav-item nav-link"
                               id="nav-headers-tab-{{test.htmlID}}"
                               data-toggle="tab"
                               href="#nav-headers-{{test.htmlID}}"
                               role="tab">Headers</a>
                        {{/unless}}
                    {{/if}}

                    {{#if test.body}}
                        {{#unless test.body.pass}}
                            <a class="nav-item nav-link"
                               id="nav-body-tab-{{test.htmlID}}"
                               data-toggle="tab"
                               href="#nav-body-{{test.htmlID}}"
                               role="tab">Body</a>
                        {{/unless}}
                    {{/if}}
                </div>
            </nav>
            <div class="tab-content" id="nav-tabContent-{{test.htmlID}}">
                {{#if test.status}}
                    {{#unless test.status.pass}}
                        <div class="tab-pane fade" id="nav-status-{{test.htmlID}}" role="tabpanel"">
                        {{> compare id=test.htmlID responsePart="status" payload=test.status }}
                    </div>
                    {{/unless}}
                {{/if}}


                {{#if test.headers}}
                    {{#unless test.headers.pass}}
                        <div class="tab-pane fade" id="nav-headers-{{test.htmlID}}" role="tabpanel">
                            {{> compare id=test.htmlID responsePart="headers" payload=test.headers }}
                        </div>
                    {{/unless}}
                {{/if}}


                {{#if body}}
                    {{#unless test.body.pass}}
                        <div class="tab-pane fade" id="nav-body-{{test.htmlID}}" role="tabpanel">
                            {{> compare id=test.htmlID responsePart="body" payload=test.body }}
                        </div>
                    {{/unless}}
                {{/if}}
            </div>
        </div>
    </div>
</div>